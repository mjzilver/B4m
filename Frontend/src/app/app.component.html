@if (currentError !== null) {
<div class="error-container">
  <div class="error-card">
    <h2 class="error-card-title">Error</h2>
    <p class="error-card-message">{{ currentError }}</p>
  </div>
</div>
}

@if (currentUser === null) {
<app-user-login (login)="login($event)"></app-user-login>
}
@if (currentUser !== null) {
<app-user-logout [currentUser]="currentUser" (logout)="logout()"> </app-user-logout>

<div class="app-container">
  <div class="channels-card">
    <h2 class="channels-card-title">Channels</h2>
    <ul class="channels-card-list">
      @for (channel of channels; track channel.id) {
      <li class="channels-card-item">
        <button class="button button-channel" (click)="selectChannel(channel)"
          [ngClass]="{'selected-channel': channel.id === selectedChannel?.id}">
          <span class="channels-card-name">{{ channel.name }}</span>
          <span class="channels-card-users">({{ channel.users.length }} users)</span>
        </button>
      </li>
      }
    </ul>
  </div>
  <div class="user-chat-container">

    @if (selectedChannel) {
    <app-user-list [users]="selectedChannel.users"></app-user-list>
    <app-chat [channel]="selectedChannel" [user]="currentUser"></app-chat>
    } @else {
    <app-user-list [users]="[]"></app-user-list>
    }
  </div>
</div>
}